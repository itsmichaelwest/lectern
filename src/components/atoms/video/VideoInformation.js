import React, { Component } from 'react'
import axios from 'axios'
import config from '../../../config'
import { Link } from 'react-router-dom'
import Design from '../../../designSystem'

export default class Video extends Component {
    likeVideo = () => {
        console.log(`**(Like) Liking comment...`)
        axios
        .post(`${config.apiUrl}/api/v1/video/${this.props.id}/like`)
        .then(response => {
            console.log(`**(Video) User is logged...`)
                this.setState({
                videoId: response.data
            })
        })
        .catch(err => {
            console.log(
                `**(Video) User is not logged.`
            )
        })
    }


    unlikeVideo = () => {
        console.log(`**(Like) Liking comment...`)
        axios
        .delete(`${config.apiUrl}/api/v1/video/${this.props.id}/like`)
        .then(response => {
            console.log(`**(Video) User is logged...`)
                this.setState({
                videoId: response.data
            })
        })
        .catch(err => {
            console.log(
                `**(Video) User is not logged.`
            )
        })
    }


    render () {
        return (
            <div className="max-w-auto lg:max-w-md xl:max-w-xl">
                <h1 className="text-xl font-bold">{this.props.title}</h1>
                <p className="text-gray-600 mt-4">{this.props.description}</p>
                <div className="flex justify-between items-center my-8">
                    <div>
                        <p>{this.props.views}</p>
                        <p>{this.props.date}</p>
                    </div>
                    <div>
                        <button className={Design.pButton + " mr-2"} onClick={this.likeVideo}>
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.052 2.2943C10.3913 1.317 11.6841 0.866733 12.4829 1.70386C12.6455 1.87428 12.8081 2.05844 12.9176 2.22266C13.2379 2.70317 13.3725 3.33596 13.4218 3.95233C13.4721 4.58046 13.438 5.25459 13.3738 5.86485C13.3093 6.47747 13.2129 7.0396 13.1328 7.44778C13.1294 7.46548 13.1259 7.48289 13.1225 7.50001H14.006C15.8777 7.50001 17.2924 9.19515 16.9576 11.0367L16.2737 14.7984C15.8017 17.3943 13.2078 19.0291 10.6622 18.3348L5.06251 16.8076C4.14894 16.5585 3.45455 15.8145 3.26885 14.886L2.91581 13.1208C2.63809 11.7322 3.69991 10.5625 4.82905 10.1161C5.15163 9.98862 5.44337 9.8268 5.66974 9.62598C7.37583 8.11247 7.99442 6.90288 9.05406 4.77696C9.4084 4.06607 9.77205 3.10056 10.052 2.2943ZM12.0165 7.87863L12.0169 7.87708L12.0187 7.86974L12.0262 7.83864C12.0328 7.8108 12.0426 7.76905 12.0549 7.71495C12.0793 7.60671 12.1135 7.44931 12.1515 7.25537C12.2277 6.86667 12.3188 6.33505 12.3793 5.76017C12.4401 5.18294 12.4685 4.57581 12.425 4.03207C12.3806 3.47656 12.2652 3.04685 12.0855 2.77736C12.0264 2.68871 11.9138 2.55605 11.7594 2.39422C11.5605 2.18577 11.1314 2.23429 10.9967 2.62229C10.7141 3.43611 10.3334 4.45196 9.94904 5.22306C8.88216 7.3635 8.19326 8.72409 6.33336 10.374C5.99304 10.676 5.58878 10.8911 5.19665 11.0461C4.31631 11.3941 3.75035 12.1945 3.89639 12.9247L4.24943 14.6899C4.36085 15.247 4.77748 15.6934 5.32562 15.8429L10.9254 17.3701C12.9052 17.91 14.9227 16.6386 15.2898 14.6195L15.9738 10.8578C16.197 9.63011 15.2538 8.50001 14.006 8.50001H12.5015C12.3476 8.50001 12.2022 8.42908 12.1074 8.30772C12.0127 8.18639 11.9792 8.02797 12.0165 7.87863C12.0165 7.8786 12.0165 7.87867 12.0165 7.87863Z"/>
                            </svg>
                        </button>
                        <button className={Design.pButton} onClick={this.unlikeVideo}>
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7774C13.2379 17.2968 13.3725 16.6641 13.4218 16.0477C13.4721 15.4196 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970952 10.6622 1.66519L5.06251 3.19239C4.14894 3.44154 3.45455 4.18547 3.26885 5.11401L2.91581 6.87918C2.63809 8.2678 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.2231C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5235 12.2652 16.9532 12.0855 17.2227C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31013C4.36085 4.753 4.77748 4.30665 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38053L15.9738 9.14223C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div className="flex justify-between items-center">
                    <Link className="flex flex-row items-center font-bold" to="/channel/1">
                        <div className="flex-initial rounded-full bg-white h-8 w-8 mr-2">
                            {/* put an image here ok */}
                        </div>
                        {this.props.channelName}
                    </Link>
                    <p>
                        {this.props.subscribers} subscribers
                    </p>
                </div>
            </div>
        )
    }
}
